!function(e){function t(t){for(var a,i,l=t[0],c=t[1],s=t[2],d=0,f=[];d<l.length;d++)i=l[d],r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;o.push([112,1]),n()}({106:function(e,t,n){var a=n(107);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,r);a.locals&&(e.exports=a.locals)},107:function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".Header {\n  position: fixed;\n  width: 100%;\n  top: 0;\n  z-index: 1; }\n  .Header .navbar {\n    background-color: black;\n    padding: 5px 100px;\n    border-bottom: 2px solid #ffffff; }\n    @media (max-width: 991px) {\n      .Header .navbar {\n        padding: 5px 10px; }\n        .Header .navbar .navbar-toggler {\n          display: none;\n          font-size: 32px; } }\n    .Header .navbar .v-icon {\n      font-size: 36px; }\n    .Header .navbar .navbar-nav .nav-link,\n    .Header .navbar .navbar-nav .nav-link:hover {\n      color: #ffffff; }\n    .Header .navbar .navbar-nav .nav-item {\n      margin-right: 20px; }\n      .Header .navbar .navbar-nav .nav-item button {\n        width: 150px; }\n    .Header .navbar .navbar-brand {\n      color: #ffffff;\n      font-size: 32px;\n      font-family: 'Indie Flower', cursive; }\n      .Header .navbar .navbar-brand:hover {\n        color: #ffffff; }\n  .Header .filters {\n    background-color: black;\n    padding: 10px;\n    color: #ffffff; }\n    .Header .filters span {\n      border: 1px solid white;\n      padding: 5px 10px;\n      border-radius: 20px;\n      font-size: 14px;\n      margin-right: 10px; }\n    .Header .filters .remove-filter {\n      background: none;\n      border: 0;\n      color: #fff; }\n",""])},110:function(e,t,n){var a=n(111);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,r);a.locals&&(e.exports=a.locals)},111:function(e,t,n){(e.exports=n(9)(!1)).push([e.i,"body {\n  background-color: rgba(0, 0, 0, 0.8); }\n\n.container {\n  max-width: 1400px; }\n\n.card-item {\n  margin-bottom: 70px; }\n\n.card-section {\n  margin-top: 170px; }\n\n.loader {\n  height: calc(100vh - 122px); }\n",""])},112:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),l=n(17),c=n(14),s=(n(53),n(20)),u=n.n(s),d=n(1),f=n.n(d),p={SET_APP_DATA:"SET_APP_DATA",SET_SELECTED_EVENT:"SET_SELECTED_EVENT",UPDATE_LIST:"UPDATE_LIST",CLOSE_VIDEO_SECTION:"CLOSE_VIDEO_SECTION"};function m(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={data:{}};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SET_APP_DATA:return v({},e,{data:t.payload.data,genre:t.payload.uniqueGenre});case p.SET_SELECTED_EVENT:return v({},e,{selectedEvent:t.payload});case p.UPDATE_LIST:return v({},e,{filteredList:t.payload});case p.CLOSE_VIDEO_SECTION:return v({},e,{selectedEvent:{}});default:return v({},e)}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y={data:{}},x=r.a.createContext(y),O=function(e){var t=e.children,n=h(Object(a.useReducer)(E,y),2),o=n[0],i=n[1];return r.a.createElement(x.Provider,{value:{state:o,contextDispatch:i}},t)};function w(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O.propTypes={children:f.a.func.isRequired};var j=function(e,t){return{type:p.SET_SELECTED_EVENT,payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{id:t})}},S=function(e,t,n){var a=function(e,t,n){var a=t.map(function(e){return e.label}),r=n.map(function(e){return e.label}),o=e[1],i=Object.keys(o),l={};return"Genre"===r[0]&&"Language"===a[0]||0===a.length&&"Genre"===r[0]||0===r&&"Language"===a[0]?l=o:i.forEach(function(e){a.indexOf(o[e].EventLanguage)>=0&&"Genre"===r[0]?l[e]=o[e]:r.indexOf(o[e].EventGenre)>=0&&"Language"===a[0]?l[e]=o[e]:a.indexOf(o[e].EventLanguage)>=0&&r.indexOf(o[e].EventGenre)>=0&&(l[e]=o[e])}),console.log(l),[e[0],l]}(e,t,n);return{type:p.UPDATE_LIST,payload:a}};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,D(t).call(this,e))).imgRef=r.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,a["Component"]),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.imageCode,n=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&(e.imgRef.current.src="https://in.bmscdn.com/events/moviecard/".concat(t,".jpg"),n=n.disconnect())})});n.observe(this.imgRef.current)}},{key:"render",value:function(){return r.a.createElement("img",{ref:this.imgRef,alt:"movie"})}}]),t}();k.propTypes={imageCode:f.a.string.isRequired};var I=k,L=(n(74),function(e){var t=e.data,n=e.dispatch,a=e.selectedId;return r.a.createElement("div",{className:"card"},r.a.createElement("button",{type:"button",className:"card-button",onClick:function(){return function(e,t,n){t(j(e,n))}(t,n,a)}},r.a.createElement(I,{imageCode:t.EventImageCode}),r.a.createElement("div",{className:"event-details text-left"},r.a.createElement("div",null,r.a.createElement("div",{className:"title"},t.EventTitle),r.a.createElement("div",{className:"language"},r.a.createElement("span",null,"U"),r.a.createElement("span",null,"|"),r.a.createElement("span",null,t.EventLanguage))),r.a.createElement("div",{className:"rating"},r.a.createElement("span",{className:"fas fa-heart fav"}),r.a.createElement("span",null,r.a.createElement("b",null,t.wtsPerc,"%"))))))});L.propTypes={data:f.a.object.isRequired,dispatch:f.a.func.isRequired,selectedId:f.a.number.isRequired};var A=L,R=n(40),G=(n(87),{height:"490",width:"100%",playerVars:{autoplay:1}}),q=function(e){var t=e.rowIndex,n=(e.dispatch,e.modValue),o=e.lastRow,i=Object(a.useContext)(x),l=i.state.selectedEvent,c=i.contextDispatch;if(l&&Object.keys(l).length>0&&t>=l.id&&t-n<l.id||l&&t-l.id<n&&o){var s=function(e){var t=e.split("=");return t.length>1?t[1].split("&")[0]:t[t.length-1]}(l.TrailerURL);return r.a.createElement("div",{className:"details row"},r.a.createElement("div",{className:"col-md-8 video-section"},r.a.createElement(R.a,{videoId:s,opts:G})),r.a.createElement("div",{className:"col-md-4 video-details"},r.a.createElement("button",{className:"close",type:"button",onClick:function(){c({type:p.CLOSE_VIDEO_SECTION})}},"X"),r.a.createElement("div",{className:"title"},r.a.createElement("b",null,l.EventTitle)),r.a.createElement("div",{className:"language"},l.EventLanguage),["horror","drama"].map(function(e){return r.a.createElement("span",{className:"genre"},e)}),r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement("div",{className:"d-flex flex-row stats"},r.a.createElement("span",{className:"far fa-thumbs-up like"}),r.a.createElement("div",{className:"perct d-flex flex-column"},r.a.createElement("span",null,l.wtsPerc,"%"),r.a.createElement("span",null,l.wtsCount," votes"))),r.a.createElement("div",{className:"d-flex flex-row date"},r.a.createElement("span",{className:"far fa-calendar-alt calendar"}),r.a.createElement("div",{className:"trailer-date d-flex flex-column"},r.a.createElement("span",null,"".concat(new Date(l.trailerUploadDate).getDate(),"\n\t\t\t\t\t\t\t\t\t").concat(function(e){switch(e){case 1:return"January";case 2:return"Febraury";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}}(new Date(l.trailerUploadDate).getMonth()))),r.a.createElement("span",null,new Date(l.trailerUploadDate).getFullYear()," ")))),r.a.createElement("div",{className:"d-flex flex-row justify-content-around interest"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("span",{className:"far fa-thumbs-up yes"}),r.a.createElement("div",{className:"count"},l.wtsCount)),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("span",{className:"fas fa-question may-be"}),r.a.createElement("div",{className:"count"},l.maybeCount)),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("span",{className:"far fa-thumbs-down no"}),r.a.createElement("div",{className:"count"},l.dwtsCount)))))}return null};q.propTypes={selectedEvent:f.a.object,rowIndex:f.a.number.isRequired,dispatch:f.a.func.isRequired,modValue:f.a.number.isRequired,lastRow:f.a.bool};var z=q,H=n(21),V=n.n(H);n(106);function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var J=function(){var e=U(Object(a.useState)([{label:"Language",value:"Language"}]),2),t=e[0],n=e[1],o=U(Object(a.useState)([{label:"Genre",value:"Genre"}]),2),i=o[0],c=o[1],s=Object(a.useContext)(x),u=s.state,d=u.data,f=u.genre,p=s.contextDispatch,m=function(e){return e.map(function(e){return{label:e,value:e}})},v=Object.keys(d).length>0?m(d[0]):[],b=Object.keys(d).length>0?m(f):[],g=function(e,t){var n=e.filter(function(e){return"Language"!==e.label}),a=t.filter(function(e){return"Genre"!==e.label});return[].concat(M(n),M(a))}(t,i);return r.a.createElement("header",{className:"Header"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement(l.b,{className:"navbar-brand ",to:"/"},"BMS Trailers"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#1navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"}),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(V.a,{options:v,value:t,onChange:function(e){var t=[];t=e.filter(function(e){return"Language"!==e.label}),0===e.length&&(t=[{label:"Language",value:"Language"}]),n(M(t)),p(S(d,M(t),i))}})),r.a.createElement("li",{className:"nav-item"},r.a.createElement(V.a,{options:b,value:i,onChange:function(e){var n=[];n=e.filter(function(e){return"Genre"!==e.label}),0===e.length&&(n=[{label:"Genre",value:"Genre"}]),c(M(n)),p(S(d,t,M(n)))}}))))),g.length>0&&r.a.createElement("div",{className:"filters"},g.map(function(e){return r.a.createElement("span",{key:e.label},e.label," ",r.a.createElement("button",{type:"button",className:"remove-filter",onClick:function(){return function(e){var a=t.filter(function(t){return t.label!==e.label}),r=i.filter(function(t){return t.label!==e.label});0===a.length&&(a=[{label:"Language",value:"Language"}]),0===r.length&&(r=[{label:"Genre",value:"Genre"}]),c(r),n(a),p(S(d,a,r))}(e)}},"X"))})))};J.propTypes={eventData:f.a.object.isRequired,dispatch:f.a.func.isRequired};var F=J,B=(n(110),function(){var e=Object(a.useContext)(x),t=e.state,n=t.data,o=t.filteredList,i=e.contextDispatch;Object(a.useEffect)(function(){u.a.get("http://localhost:3001/getAllEvents").then(function(e){var t=JSON.parse(e.data),n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].EventGenre.split("|").forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}),t}(t[1]);i(function(e,t){return{type:p.SET_APP_DATA,payload:{data:e,uniqueGenre:t}}}(t,n))})},[]);var l=o&&o.length>0?o:n,c=l[1],s=l.length>0&&Object.keys(l[1]),d=function(e){return"large"===e?4:"medium"===e?2:1}(window.innerWidth<575?"small":window.innerWidth>575&&window.innerWidth<768?"medium":"large");return r.a.createElement("div",{className:"home"},r.a.createElement(F,null),r.a.createElement("div",{className:"container card-section"},r.a.createElement("div",{className:"row"},s&&s.map(function(e,t){var n=(t+1)%d==0;return r.a.createElement(a.Fragment,{key:e},r.a.createElement("div",{key:e,className:"col-md-3 col-sm-6 col-12 card-item"},r.a.createElement(A,{dispatch:i,data:c[e],selectedId:t+1})),n&&r.a.createElement("div",{className:"col-md-12 video-space"},r.a.createElement(z,{rowIndex:t+1,modValue:d})))}),s&&r.a.createElement("div",{className:"col-md-12 video-space"},r.a.createElement(z,{lastRow:!0,rowIndex:s.length,modValue:d})))),!s&&r.a.createElement("div",{className:"loader text-center d-flex align-items-center justify-content-center"},r.a.createElement("img",{src:"https://media.giphy.com/media/uyCJt0OOhJBiE/giphy.gif",alt:"",width:"150",height:"150"})))});B.propTypes={eventData:f.a.object.isRequired,dispatch:f.a.func.isRequired};var W=B,X=r.a.createElement(l.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:function(){return r.a.createElement(O,null,r.a.createElement("div",null,r.a.createElement(W,null)))}})));t.default=X;i.a.render(X,document.getElementById("root"))},74:function(e,t,n){var a=n(75);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,r);a.locals&&(e.exports=a.locals)},75:function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".card {\n  width: 234px;\n  height: 365px;\n  border-radius: 4px;\n  cursor: pointer; }\n  .card button {\n    border: 0;\n    padding: 0;\n    outline: none; }\n  .card .event-details {\n    padding: 5px;\n    font-family: 'Roboto Slab', serif;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between; }\n    .card .event-details .title {\n      font-size: 14px; }\n    .card .event-details .language {\n      font-size: 11px;\n      color: darkgray; }\n      .card .event-details .language span {\n        margin-right: 3px; }\n    .card .event-details .rating b {\n      font-size: 14px; }\n    .card .event-details .fav {\n      color: red;\n      margin-right: 3px;\n      font-size: 14px; }\n",""])},87:function(e,t,n){var a=n(88);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(a,r);a.locals&&(e.exports=a.locals)},88:function(e,t,n){(e.exports=n(9)(!1)).push([e.i,".details {\n  height: 500px;\n  margin-bottom: 70px;\n  color: #ffffff;\n  font-family: 'Roboto Slab', serif; }\n  @media only screen and (max-width: 768px) {\n    .details {\n      height: 1000px; } }\n  @media only screen and (min-width: 768px) {\n    .details {\n      height: 500px; } }\n  .details .video-details {\n    background-color: rgba(0, 0, 0, 0.5);\n    color: #ffffff;\n    opacity: 0.9;\n    padding: 15px; }\n    .details .video-details .close {\n      background: none;\n      color: white;\n      border: 0; }\n    .details .video-details .language {\n      text-transform: uppercase;\n      margin-bottom: 5px;\n      font-size: 13px; }\n    .details .video-details .title {\n      font-size: 18px;\n      margin-bottom: 5px; }\n    .details .video-details .genre {\n      padding: 3px 10px;\n      border: 1px solid white;\n      border-radius: 15px;\n      margin-right: 10px;\n      font-size: 12px;\n      margin-bottom: 5px; }\n    .details .video-details .stats {\n      margin-top: 15px;\n      margin-right: 10px; }\n      .details .video-details .stats .like {\n        margin-right: 10px; }\n      .details .video-details .stats .perct {\n        font-size: 10px; }\n    .details .video-details .date {\n      margin-top: 15px; }\n      .details .video-details .date .calendar {\n        margin-right: 10px; }\n      .details .video-details .date .trailer-date {\n        font-size: 10px; }\n    .details .video-details .interest {\n      margin-top: 285px; }\n      .details .video-details .interest .yes {\n        padding: 10px;\n        border: 1px solid green;\n        border-radius: 20px;\n        color: green; }\n      .details .video-details .interest .no {\n        padding: 10px;\n        border: 1px solid red;\n        border-radius: 20px;\n        color: red; }\n      .details .video-details .interest .may-be {\n        padding: 10px;\n        border: 1px solid orange;\n        border-radius: 20px;\n        color: orange; }\n      .details .video-details .interest .count {\n        font-size: 10px;\n        text-align: center; }\n",""])}});
//# sourceMappingURL=main.js.map